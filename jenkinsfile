pipeline {
    agent any

    stages {
        stage('Tests') {
            steps {
                echo 'ğŸ§ª Lancement des tests HTMLHint et Stylelint...'
                sh 'npm install'  // Installe les dÃ©pendances dÃ©clarÃ©es dans package.json
                sh 'npm test'     // ExÃ©cute le script "test" dÃ©fini dans package.json
            }
        }

        stage('Build') {
            steps {
                echo 'ğŸ”¨ Ã‰tape de construction terminÃ©e (rien Ã  construire pour un projet HTML/CSS/JS simple)'
            }
        }

        stage('Deploy') {
            steps {
                echo 'ğŸš€ Ã‰tape de dÃ©ploiement fictif (Ã  connecter plus tard avec Netlify ou autre outil)'
            }
        }
    }

    post {
        success {
            echo "âœ… Pipeline terminÃ© avec succÃ¨s !"
        }
        failure {
            echo "âŒ Le pipeline a Ã©chouÃ©. VÃ©rifiez les logs ci-dessus."
        }
    }
}
